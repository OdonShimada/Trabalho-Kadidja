import random

"""

Classe base 'Jogo' criada para representar a estrutura comum de qualquer jogo de apostas.

Aqui centralizamos tudo relacionado ao controle de saldo do jogador:
- Depositar dinheiro
- Sacar dinheiro (caso tenha saldo suficiente)
- Ver o saldo atual

A ideia √© que todos os outros jogos herdem dessa classe pra n√£o ter c√≥digo repetido
e pra manter um padr√£o. Com isso, d√° pra focar s√≥ na l√≥gica do jogo nas outras classes.

"""

# Classe base
class Jogo:
    def __init__(self, saldo_inicial=0):
        self._saldo = saldo_inicial

    def depositar(self, valor):
        if valor > 0:
            self._saldo += valor
            print(f"Dep√≥sito de R${valor:.2f} realizado com sucesso!")
        else:
            print("Valor de dep√≥sito inv√°lido.")

    def sacar(self, valor):
        if 0 < valor <= self._saldo:
            self._saldo -= valor
            print(f"Saque de R${valor:.2f} realizado com sucesso!")
            return valor
        else:
            print("Saldo insuficiente ou valor inv√°lido.")
            return 0

    def verificar_saldo(self):
        print(f"Saldo atual: R${self._saldo:.2f}")
        return self._saldo

    def get_saldo(self):
        return self._saldo

    def set_saldo(self, novo_saldo):
        if novo_saldo >= 0:
            self._saldo = novo_saldo


"""

Vers√£o simplificada do famoso jogo 21.

O jogador e a casa recebem valores aleat√≥rios. Ganha quem chegar mais perto de 21 sem passar.
- Se o jogador passar de 21, perde automaticamente.
- Se a casa passar e o jogador n√£o, o jogador ganha.
- Se os dois ficarem abaixo de 21, vence quem tiver o maior valor.

Tamb√©m herda de 'Jogo' pra fazer toda a parte de saldo.
A ideia foi fazer uma l√≥gica simples, sem cartas, s√≥ com n√∫meros.

"""

# Classe do jogo Vinte e Um (herda de Jogo)
class VinteUm(Jogo):
    def __init__(self, saldo_inicial=0):
        super().__init__(saldo_inicial)

    def jogar(self, aposta):
        if aposta > self._saldo:
            print("Saldo insuficiente para essa aposta.")
            return

        self.sacar(aposta)  # Retira o valor da aposta

        # In√≠cio do jogo
        print("\nüÉè Bem-vindo ao Vinte e Um! üÉè")
        jogador = []
        dealer = []

        # Distribuir 2 cartas para jogador e dealer
        for _ in range(2):
            jogador.append(random.randint(1, 11))
            dealer.append(random.randint(1, 11))

        while True:
            print(f"\nSuas cartas: {jogador} | Total: {sum(jogador)}")
            print(f"Carta vis√≠vel do dealer: {dealer[0]}")

            if sum(jogador) == 21:
                print("üéâ Voc√™ fez 21! Vit√≥ria garantida!")
                self.depositar(aposta * 2.5)
                return
            elif sum(jogador) > 21:
                print("üí• Voc√™ estourou! Perdeu.")
                return

            escolha = input("Deseja (C)ontinuar comprando ou (P)arar? ").upper()
            if escolha == 'C':
                jogador.append(random.randint(1, 11))
            elif escolha == 'P':
                break
            else:
                print("Escolha inv√°lida.")

        # Vez do dealer
        print(f"\nCartas do dealer: {dealer} | Total: {sum(dealer)}")
        while sum(dealer) < 17:
            dealer.append(random.randint(1, 11))
            print(f"Dealer compra uma carta. Novas cartas: {dealer} | Total: {sum(dealer)}")

        total_jogador = sum(jogador)
        total_dealer = sum(dealer)

        # Resultado
        if total_dealer > 21 or total_jogador > total_dealer:
            print("üéâ Voc√™ venceu!")
            self.depositar(aposta * 2)
        elif total_jogador == total_dealer:
            print("ü§ù Empate! Voc√™ recupera sua aposta.")
            self.depositar(aposta)
        else:
            print("üòî Dealer venceu. Voc√™ perdeu.")


"""

Simula um jogo de aposta com dados.

O jogador escolhe um n√∫mero entre 2 e 12 (soma de dois dados) e faz a aposta.
Dois dados s√£o lan√ßados (n√∫meros aleat√≥rios entre 1 e 6) e a soma define o resultado.
Se o jogador acertar o n√∫mero, ganha 6x o valor apostado (simula uma chance baixa com recompensa alta).

A l√≥gica √© direta e usamos a classe Jogo pra controlar saldo.
Foi pensado pra testar sorte com uma chance mais dif√≠cil.

"""


class Dados(Jogo):
    def jogar(self):
        print("\n--- Jogo dos Dados ---")
        try:
            numero_apostado = int(input("Aposte em um n√∫mero entre 2 e 12 (soma de dois dados): "))
            aposta = float(input("Digite o valor da aposta: R$ "))
            if aposta <= 0 or not self.sacar(aposta):
                return
        except ValueError:
            print("Valores inv√°lidos.")
            return

        if not 2 <= numero_apostado <= 12:
            print("N√∫mero fora do intervalo.")
            self.depositar(aposta)  # devolve aposta
            return

        d1 = random.randint(1, 6)
        d2 = random.randint(1, 6)
        soma = d1 + d2

        print(f"Dados: {d1} + {d2} = {soma}")

        if soma == numero_apostado:
            premio = aposta * 6
            print(f"Parab√©ns! Voc√™ ganhou R$ {premio:.2f}")
            self.depositar(premio)
        else:
            print("Voc√™ perdeu!")

        self.verificar_saldo()
        
# Exemplo de uso
def main():
    saldo_inicial = float(input("Informe o saldo inicial: R$ "))
    jogos = {
        1: VinteUm(saldo_inicial),
        2: Dados(saldo_inicial)
    }

    while True:
        print("\n--- MENU ---")
        print("1 - Jogar 21 (Vinte e Um)")
        print("2 - Jogar Dados")
        print("3 - Verificar saldo")
        print("4 - Depositar")
        print("5 - Sair")

        escolha = input("Escolha uma op√ß√£o: ")

        if escolha == '1':
            try:
                aposta = float(input("Digite o valor da aposta: R$ "))
                jogos[1].jogar(aposta)
            except ValueError:
                print("Valor de aposta inv√°lido.")
        elif escolha == '2':
            jogos[2].jogar()
        elif escolha == '3':
            jogos[1].verificar_saldo()  # Ambos compartilham saldo
        elif escolha == '4':
            try:
                valor = float(input("Valor para dep√≥sito: R$ "))
                for jogo in jogos.values():
                    jogo.depositar(valor)
                    break  # basta um, pois saldo √© compartilhado
            except ValueError:
                print("Valor inv√°lido.")
        elif escolha == '5':
            print("Saindo... Obrigado por jogar!")
            break
        else:
            print("Op√ß√£o inv√°lida.")

# Inicia o jogo
main()

"""

Jogo da Roleta (simples).

O jogador escolhe entre vermelho ou preto, faz a aposta e a roleta "gira" (simulada com um n√∫mero aleat√≥rio).
Dependendo do n√∫mero, associamos uma cor (par = vermelho, √≠mpar = preto).
Se o jogador acertar a cor, ele ganha o dobro da aposta. Se errar, perde.

Usa a classe base Jogo pra lidar com o saldo do jogador.
A ideia √© simular a experi√™ncia de um cassino de forma bem simples.

"""

class Roleta(Jogo):
    def __init__(self, saldo_inicial=0):
        super().__init__(saldo_inicial)

    def apostar(self, numero, valor):
        if valor > self.saldo:
            print("Saldo insuficiente para essa aposta.")
            return

        if numero < 0 or numero > 36:
            print("N√∫mero inv√°lido. Escolha entre 0 e 36.")
            return

        print(f"Apostando R${valor:.2f} no n√∫mero {numero}... Girando a roleta!")
        resultado = random.randint(0, 36)
        print(f"N√∫mero sorteado: {resultado}")

        if resultado == numero:
            ganho = valor * 35
            self.saldo += ganho
            print(f"Parab√©ns! Voc√™ ganhou R${ganho:.2f}")
        else:
            self.saldo -= valor
            print("Voc√™ perdeu a aposta.")

        self.verificar_saldo()


# Execu√ß√£o
def jogar():
    print("Bem-vindo ao jogo da Roleta!")
    saldo_inicial = float(input("Insira seu saldo inicial: R$"))
    jogo = Roleta(saldo_inicial)

    while True:
        print("\nMenu:")
        print("1. Verificar saldo")
        print("2. Depositar")
        print("3. Sacar")
        print("4. Apostar na roleta")
        print("5. Sair")
        opcao = input("Escolha uma op√ß√£o: ")

        if opcao == '1':
            jogo.verificar_saldo()
        elif opcao == '2':
            valor = float(input("Valor para depositar: R$"))
            jogo.depositar(valor)
        elif opcao == '3':
            valor = float(input("Valor para sacar: R$"))
            jogo.sacar(valor)
        elif opcao == '4':
            numero = int(input("Escolha um n√∫mero entre 0 e 36: "))
            valor = float(input("Valor da aposta: R$"))
            jogo.apostar(numero, valor)
        elif opcao == '5':
            print("Obrigado por jogar!")
            break
        else:
            print("Op√ß√£o inv√°lida.")


if __name__ == "__main__":
    jogar()
